\documentclass[nobib]{tufte-handout}

\usepackage{amsmath}
\usepackage[utf8]{inputenc}
\usepackage{mathpazo}
\usepackage{booktabs}
\usepackage{microtype}
\usepackage{tikz}
\usepackage{enumitem}
\usepackage{pgfplots}
\pgfplotsset{width=9cm,compat=1.13}

\title{Comparison of Three sum algorithms}
\author{Riko Jacob (rikj@itu.dk)}

\begin{document}
\maketitle

\section{Compared Algorithms and Impementations}

We compare the naive triple loop implementation and a dictionary/HashMap based implementation, in both python3 and java.
The algorithms are explained elsewhere.
 

\subsection{Experiments}

The following table summarises the empirical performance data on the input files in the \texttt{data} directory.
We have run each file once, and report the minimum, maximum, and average running time over the files for each input size.

  \bigskip\noindent
{ \small
  \begin{tabular}{cccccccc}
  \toprule
& \multicolumn{3}{c}{Java} & $\quad$ & \multicolumn{3}{c}{Python}  \\\cmidrule{2-4} \cmidrule{6-8}
  $N$     & $\min$     & $\max$ & avg. &
          & $\min$     & $\max$ & avg.   \\\midrule
  $100	$ & 1 sec & 5 days & 23.5 hours \\
  $[\ldots]$ \\
  \bottomrule
  \end{tabular}
}

\medskip
We can plot the maximum running time as a function of input size, as a standard plot and as a log--log plot.\sidenote{Draw both graphs, as two separate figures. Use any software you want, or draw it by hand.}
In the latter, the points fall nicely on a line whose slope is [$\cdots$\sidenote{replace by an integer. Consult \href{https://en.wikipedia.org/wiki/Slope}{[wikipedia]} to recall what the slope of a line is. Note that the line we're referring to is in the log--log plot, so it does not correspond to a line in the original plot.}].
This corresponds/does not correspond to the theoretical prediction, because [$\cdots$]
\medskip

\begin{tikzpicture}
	\begin{axis}[
		title={Running time for search, one planted triple},
		xlabel={$N$},
                xmode = log,
                log ticks with fixed point,
                ymode = log,
		ylabel={Time (s)},
		xmin=30, xmax=15000,
		ymin=.03, ymax=25,
		xtick={30,50,100,200,400, 800, 2000,5000,15000},
		%ytick={0,40,80,160},
		ytick={.05,.1,.2,.5,1,2,5,10,20},
                legend style={at={(1.1,0)}, anchor=south west},
                % legend pos=north east, %north west,
		%ymajorgrids=true,
		%grid style=dashed,
	]
	\addplot[color=blue, mark=x,error bars/.cd,y dir=both,y explicit ] table [x index=0, y index=1, y error index=2] {TablesTeX/WeedJavaSimple.table};
        %	coordinates { (100,32)(200,37.8)(400,44.6)(800,61.8)(1600,83.8)(3200,114) };
	\addplot[ color=red, mark=*,error bars/.cd,y dir=both,y explicit ]	table [x index=0, y index=1, y error index=2] {TablesTeX/WeedPythSimple.table};
        % coordinates { (100,132)(200,72.8)(400,144.6)(800,161.8)(1600,133.8)(3200,224) };
	\addplot[ color=green, mark=o,error bars/.cd,y dir=both,y explicit ] table [x index=0, y index=1, y error index=2] {TablesTeX/WeedJavaDict.table};
	\addplot[ color=brown, mark=x,error bars/.cd,y dir=both,y explicit ] table [x index=0, y index=1, y error index=2] {TablesTeX/WeedPythDict.table};
%        \addplot[color=yellow] expression[domain=8:3200] {.00009*x+.08};
%        \addplot[color=yellow] expression[domain=8:3200] {.0009*x};
%        \addplot[color=yellow] expression[domain=8:3200] {.0002*x*ln(x)};
        \addplot[color=yellow] expression[domain=8:15000] {.000000021*x*x*x};
        \addplot[color=yellow] expression[domain=8:15000] {.00000000011*x*x*x};
%        \addplot[color=yellow] expression[domain=8:3200] {.00000000031*x*x*x*x};
        \addplot[color=yellow] expression[domain=8:15000] {.000000028*x*x};
	\legend{Java, Python, Fast Java, Fast Python}
	\end{axis}
\end{tikzpicture}


\end{document}
